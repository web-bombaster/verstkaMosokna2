
document.addEventListener(
	"DOMContentLoaded", () => {
		function loadData() {
	return new Promise((resolve, reject) => {
	  	// setTimeout не является частью решения
	  	// Код ниже должен быть заменен на логику подходящую для решения вашей задачи
		setTimeout(resolve, 100);
	})
};

loadData()
	.then(() => {
		let preloaderEl = document.getElementById('preloader');
		preloaderEl.classList.add('hidden');
		preloaderEl.classList.remove('visible');
	});const headerFixed = () => {
    const heightHeader = document.querySelector('.header').offsetHeight; // высота хедера
    document.body.style.paddingTop = heightHeader + 'px';
};

const headerBtnPhone = () => {
    const btnPhone = document.querySelector('.header-btn-phone__icon').firstElementChild; // высота хедера

    if (document.documentElement.clientWidth > 768) {
        btnPhone.setAttribute('xlink:href', 'img/sprite.svg#telephone');
    } else {
        btnPhone.setAttribute('xlink:href', 'img/sprite.svg#telephone-line');
    }
};

headerFixed();
headerBtnPhone();
// запускаем headerFixed при ресайзе
window.addEventListener("resize", headerFixed);
// запускаем headerBtnPhone при ресайзе
window.addEventListener("resize", headerBtnPhone);


// Показать / скрыть разделы страницы
let togglePageSections = function() {
    if (document.querySelector('.subsections-btn')) {
        const btnToggle = document.querySelector('.subsections-btn'); // кнопка переключения
        const subsections = document.querySelector('.subsections'); // список разделов
        let flag = true; // проверка состояния включалась ли прокрутка. flag = false - прокрутка уже была включена

        btnToggle.style.display = 'none'; // изначально скрываем кнопку

        // Если Viewport <= 768 активируем переключатель разделов страницы
        let checkMobile = function() {
            const widthViewport = document.documentElement.clientWidth;
            if (widthViewport <= 880) {
                btnToggle.style.display = 'inline-flex';
                btnToggle.classList.add('toggle');
                headerFixed();

            } else {
                if (flag = true) {
                    subsections.style.display = 'block';
                };
            };
        };
        checkMobile();
        window.addEventListener("resize", checkMobile);

        // Меняем состояние кнопки
        let btnLvl3Toggole = function() {
            if (btnToggle.classList.contains('toggle')) {
                flag = false;
                btnToggle.querySelector('.subsections-btn__text').innerText = 'Скрыть подразделы';
                btnToggle.querySelector('.subsections-btn__icon').setAttribute("src", "img/icons/close.svg");
                subsections.style.display = 'block';
            } else {
                btnToggle.querySelector('.subsections-btn__text').innerText = 'Разделы страницы';
                btnToggle.querySelector('.subsections-btn__icon').setAttribute("src", "img/icons/list-ul.svg");
                subsections.style.display = 'none';
            };

            btnToggle.classList.toggle('toggle');
            subsections.classList.toggle('toggle');
            headerFixed();
        };

        btnToggle.addEventListener('click', btnLvl3Toggole);

        // Скрываем 3лвл меню за кнопку при скролле и при ресайзе
        let hideLvl3 = function() {
            btnToggle.classList.add('toggle');
            subsections.classList.add('toggle');
            flag = false;
            btnToggle.style.display = 'inline-flex';
            subsections.style.display = 'none';

            btnToggle.querySelector('.subsections-btn__text').innerText = 'Разделы страницы';
            btnToggle.querySelector('.subsections-btn__icon').setAttribute("src", "img/icons/list-ul.svg");
        };

        window.addEventListener('scroll', hideLvl3);
        window.addEventListener('resize', hideLvl3);
    };
};
togglePageSections();

// document.querySelector('.main-menu__item').click();// Меню для ПК
// Раздаем первоначальные классы активности пунктам меню при загрузке страницы
// Предварительно проверяем, есть ли уже эти классы в разметке. Если есть, то не добавляем.
let addClassActive = function() {
    if (document.querySelector('.main-menu__link')) {

        let flag;

        document.querySelectorAll('.main-menu__link').forEach(element => {
            if (!element.classList.contains('active')) {
                flag = true;
            };
        });

        if (flag) {
            document.querySelector('.main-menu__link').classList.add('active');
        };

        const lvl2 = document.querySelector('.main-menu__link.active').nextElementSibling.querySelectorAll('.main-menu__submenu-link');

        lvl2.forEach(element => {
            if (!element.classList.contains('active')) {
                flag = true;
            };
        });

        if (flag) {
            document.querySelector('.main-menu__link.active').nextElementSibling.querySelector('.main-menu__submenu-link').classList.add('active');
        };
    };
};
addClassActive();
// headerFixed();


// Инициализация меню для ПК второго уровня
// let pcMenuToggle2lvl = function() {
//     if (document.querySelector('.main-menu__link')) {
//         const mainMenuLink = document.querySelectorAll('.main-menu__link'); // все пункты первого уровня
//         const currentInitBox = document.querySelector('.header-bottom__box'); // куда будем записывать меню второго уровня
//         let currentInitEl, newInitEl;

//         currentInitEl = document.querySelector('.main-menu__link.active').nextElementSibling; // находим подменю второго уровня активного элемента первого уровня для копирования - не cons, т.к. будет изменяться
//         newInitEl = currentInitEl.cloneNode(true); // создаем новый элемент, который будем вставлять в панель второго уровня - не cons, т.к. будет изменяться

//         // предварительно все очищаем
//         if (currentInitBox.querySelector('.main-menu__submenu')) {
//             currentInitBox.querySelector('.main-menu__submenu').remove();
//         }
//         // currentInitBox.innerHTML = ''; // предварительно все очищаем
//         currentInitBox.prepend(newInitEl); // Инициализация меню второго уровня

//         mainMenuLink.forEach(element => {
//             // Поменять класс активности у раздела по наведению
//             element.addEventListener('mouseenter', function (e) {
//                 mainMenuLink.forEach(element => {
//                     element.classList.remove('active');
//                 });
//                 element.classList.toggle('active');

//                 // Чистим класс активности у пунктов второго уровня
//                 document.querySelectorAll('.main-menu__submenu-link').forEach(element => {
//                     element.classList.remove('active');
//                 });

//                 e.target.closest('.main-menu__link').nextElementSibling.querySelector('.main-menu__submenu-link').classList.add('active'); // даем класс активности нужному пункту второго уровня

//                 currentInitEl = document.querySelector('.main-menu__link.active').nextElementSibling; // находим подменю второго уровня активного элемента первого уровня для копирования - не cons, т.к. будет изменяться
//                 newInitEl = currentInitEl.cloneNode(true); // создаем новый элемент, который будем вставлять в панель второго уровня - не cons, т.к. будет изменяться

//                 // предварительно все очищаем
//                 if (currentInitBox.querySelector('.main-menu__submenu')) {
//                     currentInitBox.querySelector('.main-menu__submenu').remove();
//                 }

//                 // currentInitBox.innerHTML = ''; // предварительно все очищаем

//                 currentInitBox.prepend(newInitEl); // Инициализация меню второго уровня

//                 pcMenuToggle3lvl(); // вызываем заполнение меню третьего уровня и при наведении на другой пункт меню первого уровня

//                 headerFixed(); //
//             });
//         });
//     };
// };

// Инициализация меню для ПК третьего уровня
// let pcMenuToggle3lvl = function() {
//     if (document.querySelector('.subsections')) {

//         const mainMenuLink = document.querySelectorAll('.main-menu__submenu-link'); // все пункты второго уровня
//         const currentInitBox = document.querySelector('.subsections'); // куда будем записывать меню третьего уровня
//         let currentInitEl, newInitEl;

//         currentInitEl = document.querySelector('.main-menu__submenu-link.active').nextElementSibling; // находим подменю третьего уровня активного элемента второго уровня для копирования - не cons, т.к. будет изменяться
//         newInitEl = currentInitEl.cloneNode(true); // создаем новый элемент, который будем вставлять в панель третьего уровня - не cons, т.к. будет изменяться

//         currentInitBox.innerHTML = '';
//         currentInitBox.append(newInitEl);

//         mainMenuLink.forEach(element => {
//             // Поменять класс активности у раздела по наведению
//             element.addEventListener('mouseenter', function (e) {
//                 mainMenuLink.forEach(element => {
//                     element.classList.remove('active');
//                 });
//                 element.classList.toggle('active');

//                 currentInitEl = document.querySelector('.main-menu__submenu-link.active').nextElementSibling; // находим подменю третьего уровня активного элемента второго уровня для копирования - не cons, т.к. будет изменяться
//                 newInitEl = currentInitEl.cloneNode(true); // создаем новый элемент, который будем вставлять в панель третьего уровня - не cons, т.к. будет изменяться
        
//                 currentInitBox.innerHTML = '';
//                 currentInitBox.append(newInitEl);
//             });
//         });
//     };
// };

// pcMenuToggle2lvl();
// window.addEventListener("resize", pcMenuToggle2lvl);

// pcMenuToggle3lvl();

// После иниуиализации меню пересчитываем высоту шапки
headerFixed();

if (document.querySelector('.jsMobileMenuBtnToggle')) {

    const menuBtn = document.querySelector('.jsMobileMenuBtnToggle');

    // Показать / скрыть мобильное меню
    let menuToggle = function() {
        const body = document.querySelector('body');
        const menu = document.querySelector('.mobile-menu');

        positionMobileMenu();

        if (!menuBtn.classList.contains('toggle')) {
            menu.classList.add('toggle');
            body.classList.add('toggle');
        } else {
            menu.classList.remove('toggle');
            body.classList.remove('toggle');
        }

        window.addEventListener('resize', function () {
            menuBtn.classList.remove('toggle');
            menu.classList.remove('toggle');
            body.classList.remove('toggle');
        }, true);

        // heightMenuOverlay(); // меняем высоту оверлея меню при ресайзе
    };

    // Закрываем мобильное меню по клику вне его
    let closeMobileMenu = function() {
        const btnMenu = document.querySelector('.jsMobileMenuBtnToggle');
        const body = document.querySelector('body');
        const menu = document.querySelector('.mobile-menu');

        document.addEventListener("click", function (e) {
            const target = e.target;
            const its_menu = target == menu || menu.contains(target);
            const its_btnMenu = target == btnMenu;

            if (!its_menu && !its_btnMenu) {
                menuBtn.classList.remove('toggle');
                menu.classList.remove('toggle');
                body.classList.remove('toggle');
            }
        });
    };

    menuBtn.addEventListener("click", menuToggle);
    closeMobileMenu();
};

// Определяем высоту мобильного меню и размещаем под шапкой
let positionMobileMenu = function() {
    const heightViewport = document.documentElement.clientHeight;
    const heightHeader = document.querySelector('.header').offsetHeight;
    // const heightHeader = document.querySelector('.header-top').offsetHeight + document.querySelector('.header-middle').offsetHeight;

    const heightMenuOverlay = heightViewport - heightHeader;
    let posTop = window.pageYOffset;

    const menu = document.querySelector('.mobile-menu');
    menu.style.height = heightMenuOverlay + 'px';
    // menu.style.top = posTop + heightHeader + 'px';
    menu.style.top = heightHeader + 'px';

};

positionMobileMenu();
window.addEventListener("resize", positionMobileMenu);

// Для открывающихся пунктов меню по щелчку будем менять класс toggle
let mobileMenuToggleSubmenu = function() {
    if (document.querySelector('.mobile-menu .main-menu__link')) {
        const mobileMenuSubMenuOpenBtn = document.querySelectorAll('.mobile-menu .main-menu__link');

        mobileMenuSubMenuOpenBtn.forEach(element => {
            element.addEventListener('click', function(e) {
                e.preventDefault();
                e.target.closest('.main-menu__link').classList.toggle('toggle');
            });
        });
    };
};

// window.addEventListener("resize", mobileMenuToggleSubmenu);
mobileMenuToggleSubmenu();



const openSearchPanel = () => {
	let btnSearch = document.querySelector('.header-middle__btn--search');
	let searchClose = document.querySelector('.search-close');
	let searchPanel = document.querySelector('.search');

	btnSearch.addEventListener('click', (e) => {
		const heightSearchPanel = document.querySelector('.header-bottom').offsetHeight;
		const topSearchPanel = document.querySelector('.header-bottom').getBoundingClientRect().top; // верхний край


		if (heightSearchPanel > 60) {
			searchPanel.style.minHeight = heightSearchPanel + 'px';
		};
		searchPanel.style.top = topSearchPanel + 'px';

		e.preventDefault();
		searchPanel.classList.toggle('active');
		if (searchPanel.classList.contains('active')) {
			document.querySelector('.header').style.overflow = 'initial';
		} else {
			document.querySelector('.header').style.overflow = 'hidden';
		}
	});

	searchClose.addEventListener('click', (e) => {
		e.preventDefault();
		searchPanel.classList.toggle('active');
		document.querySelector('.header').style.overflow = 'hidden';
	});
};

openSearchPanel();
if (document.querySelector('.js-burger')) {

    const btnBurger = document.querySelectorAll('.js-burger');

    // Открыть / закрыть бургер по клику на него
    function btnBurgerToggle(e) {
        e.target.classList.toggle('toggle');
    }

    // При ресайзе возвращаем кнопки в исходное состояние
    // function btnBurgerToggleClassRemove() {
    //     btnBurger.forEach(element => {
    //         element.classList.remove('toggle');
    //     });
    // }

    btnBurger.forEach(element => {
        element.addEventListener("click", btnBurgerToggle);
        // window.addEventListener("resize", btnBurgerToggleClassRemove);
    });
}

// по клику на .js-catalog-open-btn открываем / закрываем меню с категориями каталога
if (document.querySelector('.js-catalog-open-btn')) {
    const catalogOpenBtn = document.querySelectorAll('.js-catalog-open-btn');

    // Открыть / закрыть подменю по клику на .js-catalog-open-btn
    function toggleOpen(e) {

        const toggleBtn = (this.closest('.js-catalog-open-btn'));
        const toggleBody = toggleBtn.nextElementSibling;

        toggleBody.classList.toggle('toggle');
    }

    catalogOpenBtn.forEach(element => {
        element.addEventListener("click", toggleOpen);
        // window.addEventListener("resize", btnBurgerToggleClassRemove);
    });
}



// Структура табов:
// .tabs - обертка для табов
// .tabs-btns - обертка для кнопок табов .tabs-btn__item
// .tabs-descr - обертка для содержимого табов .tabs-descr__item

// переключение табов - в качестве параметров функции будут передаваться классы для кнопок табов и содержимого табов
const tabsToggle = function(tabBtn, tabContent) {
    const tabBtnClass = tabBtn; // задаем селектор кнопки таба

    // console.log('tabBtnClass' + document.querySelector(tabBtnClass));
    // console.log('tabsToggle');

    if (document.querySelector(tabBtnClass)) {

        const tabContentClass = tabContent; // задаем селектор содержимого таба

        const tabsBtn = document.querySelectorAll(tabBtnClass); // все кнопки табов

        const tabsContent = document.querySelectorAll(tabContentClass); // все содержимое табов


        // Перебираем кнопки табов, по которым можем щелкнуть
        tabsBtn.forEach(function(btn, index) {

            // Вешаем событие клика на каждую кнопку
            btn.addEventListener('click', function () {

                // у всех кнопок одного родителя убрать класс активности
                tabsBtn[index].parentNode.querySelectorAll(tabBtnClass).forEach(function(element) {
                    element.classList.remove('toggle');
                });

                // у кнопки, по которой щелкнули, добавить класс активности
                tabsBtn[index].classList.add('toggle');

                // у каждого содержимого одного родителя удалить класс активности
                tabsContent[index].parentNode.querySelectorAll(tabContentClass).forEach(function(element) {
                    element.classList.remove('toggle');
                });

                // у содержимого с этим индексом добавить класс активности
                tabsContent[index].classList.add('toggle');

            });

        });

    };
};

// tabsToggle();// Инициализация Inputmask
// https://github.com/RobinHerbots/Inputmask

function initInputMask() {
	let formPhone = document.querySelectorAll('.form__phone');
	formPhone.forEach(element => {
		Inputmask({ "mask": "+7 (999) 999-99-99" }).mask(element);
	});
}

initInputMask();

// Инициализация just-validate
// https://github.com/horprogs/Just-validate
// https://just-validate.dev/

function initJustValidatHelpForme() {
	const validation = new JustValidate('.help__form');

	validation
		.addField('.form__phone', [
			{
				rule: 'required',
				errorMessage: 'Введите телефон!',
			},
		])
		.addField('.form__agreement', [
			{
				rule: 'required',
				errorMessage: 'Подтвердите согласие на обработку персональных данных!',
			},
		])
		.addField('.form__email', [
			{
				rule: 'required',
				errorMessage: 'Email обязателен!',
			},
			{
				rule: 'email',
				errorMessage: 'Email не корректен!',
			},
		])
}

if (document.querySelector('.help__form')) {
	initJustValidatHelpForme();
}

function initJustValidatRegistrationForm() {
	const validation = new JustValidate('.registration__form');

	validation
		// .addField('.form__name', [
		// 	{
		// 		rule: 'required',
		// 		errorMessage: 'Введите имя!',
		// 	},
		// 	{
		// 		rule: 'minLength',
		// 		value: 3,
		// 		errorMessage: 'Минимум 3 символа',
		// 	},
		// 	{
		// 		rule: 'maxLength',
		// 		value: 30,
		// 		errorMessage: 'Максимум 30 символов',
		// 	},
		// ])
		.addField('.form__name', [
			{
				rule: 'required',
				errorMessage: 'Введите имя!',
			},
		])
		.addField('.form__phone', [
			{
				rule: 'required',
				errorMessage: 'Введите телефон!',
			},
		])
		.addField('.form__agreement', [
			{
				rule: 'required',
				errorMessage: 'Подтвердите согласие на обработку персональных данных!',
			},
		])
		.addField('.form__email', [
			{
				rule: 'required',
				errorMessage: 'Email обязателен!',
			},
			{
				rule: 'email',
				errorMessage: 'Email не корректен!',
			},
		])
	// .onSuccess((event) => {

	// 	// sentForm();
	// 	// Когда валидация прошла, отправляем форму
	// 	let element = event.target;
	// 	let formData = new FormData(element);
	// 	let xhr = new XMLHttpRequest();
	// 	xhr.onreadystatechange = function () {
	// 		if (xhr.readyState === 4) {
	// 			if (xhr.status === 200) {
	// 				console.log('Отправлено');
	// 				// Закрываем модалку
	// 				element.closest('.modal').classList.remove('show');
	// 				// Показываем другую модалку с ссобщением об успещной отправке
	// 				document.getElementById('modal-05').classList.add('show');
	// 			}
	// 		}
	// 	}

	// 	xhr.open('POST', 'mail.php', true);
	// 	xhr.send(formData);

	// 	element.reset();

	// });
}

if (document.querySelector('.registration__form')) {
	initJustValidatRegistrationForm();
}

function initJustValidatGoodDeal() {
	const validation = new JustValidate('.good-deal__form');

	validation
		.addField('.form__phone', [
			{
				rule: 'required',
				errorMessage: 'Введите телефон!',
			},
		])
		.addField('.form__agreement', [
			{
				rule: 'required',
				errorMessage: 'Подтвердите согласие на обработку персональных данных!',
			},
		])
}

if (document.querySelector('.good-deal__form')) {
	initJustValidatGoodDeal();
}const accordeonItems = document.querySelectorAll('.accordeon__title'); // Все заголовки элементов аккордиона, по которым щелкаем для открытия / закрытия контента выбранного элемента
const accordeonItemsContent = document.querySelectorAll('.accordeon__content'); // Контент всех элементов аккордиона, который открывается, закрывается

// Перебираем заголовки аккордеона, по которым можем щелкнуть
accordeonItems.forEach((element, index) => {
	// Вешаем событие клика на каждый заголовок аккордеона
	element.addEventListener('click', function () {

		// Если у элемента, по которому щелкнули, нет класса активности,
		// if (!accordeonItems[index].classList.contains('accordeon__title--active')) {

		// 	// Пробегаемся по заголовкам элементов аккордеона
		// 	accordeonItems.forEach(element => {
		// 		// удаляем класс активности
		// 		element.classList.remove('accordeon__title--active');
		// 	});

		// 	// Перебираем контент для айтемов аккордиона и скрываем.
		// 	accordeonItemsContent.forEach(element => {
		// 		element.classList.add('accordeon__content--hidden');
		// 	});
		// };

		// Переключаем класс активности элемента, по которому щелкнули
		accordeonItems[index].classList.toggle('accordeon__title--active');

		// Делаем тоггл для контета элемента, по которому щелкнули
		accordeonItemsContent[index].classList.toggle('accordeon__content--hidden');

	});
});// по щелчку на кнопку с выбором типа .options-type__current появляется выпадашка с вариантами
let optionsToggle = function() {

    if (document.querySelector('.options-type__current')) {
        let optionsTypeCurrent = document.querySelectorAll('.options-type__current');
        optionsTypeCurrent.forEach(function(element, index) {
            element.addEventListener('click', function() {
                this.parentElement.classList.toggle('toggle');
            });
        });
    };
};

optionsToggle();


// раздаем классы toggle первым элементам внутри родительских, предварительно почистив их у других элементов
let initClassToggleItem = function(parentElement, childElement) {
    if (document.querySelector(parentElement)) {
        const parents = document.querySelectorAll(parentElement);
        parents.forEach(function(element, index) {
            let childrens = parents[index].querySelectorAll(childElement);
            childrens.forEach(function(element, index) {
                childrens[index].classList.remove('toggle');
            });

            parents[index].querySelector(childElement).classList.add('toggle');
        });
    };
};

initClassToggleItem('.options-btn', '.options-btn__item'); // инициализация кнопок табов для опций
initClassToggleItem('.options-descr', '.options-descr__item'); // инициализация описаний табов для опций

initClassToggleItem('.options-type__variants', '.variants-item'); // инициализация вариантов
initClassToggleItem('.left-tabs', '.left-tabs__item'); // инициализация левых айтемов
initClassToggleItem('.right-tabs', '.right-tabs__item'); // инициализация правых айтемов

// инициализация начальных активных элементов для привью и больших картинок
let initClassToggle = function() {
    initClassToggleItem('.options-thumb', '.options-thumb__item');
    initClassToggleItem('.options__img-box', '.option-img__item');
};

initClassToggle();


// выбор варианта
let optionsSelect = function() {

    let btnVariants = document.querySelectorAll('.variants-item');
    let variantTitle;

    // по клику на вариант у всех убираем .toggle, а у активного добавляем его
    btnVariants.forEach(function(element, index) {
        element.addEventListener('click', function() {
            // Инициализация класса toggle для элементов эскизов и больших картинок при смене варианта
            initClassToggle();

            btnVariants.forEach(function(element) {
                element.classList.remove('toggle');
            });
            this.classList.toggle('toggle');

            // Текст выбраного варианта в кнопку
            variantTitle = this.innerText;
            this.parentElement.previousElementSibling.querySelector('.title').innerText = variantTitle;
            this.parentElement.classList.remove('toggle');
            this.closest('.options-type').classList.remove('toggle');

        });
    });

};

optionsSelect();


tabsToggle('.options-btn__item', '.options-descr__item'); // По щелчку на кнопку таба изменяем описание таба
tabsToggle('.cover .variants-item', '.cover__box'); // По щелчку на вариант в блоке cover показываем нужный блок
tabsToggle('.options .variants-item', '.left-tabs__item'); // По щелчку на вариант в блоке options показываем нужный блок слева
tabsToggle('.options .variants-item', '.right-tabs__item'); // По щелчку на вариант в блоке options показываем нужный блок справа

tabsToggle('.options-thumb__item', '.option-img__item'); // По щелчку на миниатюру изменяем большую картинку





// Инициализация слайдера swiper
// https://swiperjs.com/

function initSwiper() {

	if (document.querySelector('.compare-products-js')) {
		const servicesList = new Swiper('.compare-products-js', {
			spaceBetween: 10,
			slidesPerView: 1,
			lazy: true,
			loop: true,
			breakpoints: {
				600: {
					slidesPerView: 1.8,
					loop: true,
				},
				768: {
					slidesPerView: 2.3,
					loop: true,
				},
				992: {
					slidesPerView: 4,
					loop: true,
				},
			},
			navigation: {
				nextEl: ".compare-products__next",
				prevEl: ".compare-products__prev",
			},
		});
	};

	if (document.querySelector('.js-types-windows-list')) {
		const servicesList = new Swiper('.js-types-windows-list', {
			spaceBetween: 16,
			slidesPerView: 1.3,
			lazy: true,
			loop: true,
			breakpoints: {
				600: {
					slidesPerView: 2,
					spaceBetween: 16,
					loop: true,
				},
				768: {
					slidesPerView: 2.3,
					spaceBetween: 16,
					loop: true,
				},
				992: {
					slidesPerView: 4,
					spaceBetween: 24,
					loop: true,
				},
			},
			navigation: {
				nextEl: ".types-windows__next",
				prevEl: ".types-windows__prev",
			},
		});
	};

	if (document.querySelector('.js-services-list')) {
		const servicesList = new Swiper('.js-services-list', {
			spaceBetween: 16,
			slidesPerView: 1.3,
			lazy: true,
			loop: true,
			breakpoints: {
				600: {
					slidesPerView: 2,
					spaceBetween: 16,
					loop: true,
				},
				768: {
					slidesPerView: 2.3,
					spaceBetween: 16,
					loop: true,
				},
				992: {
					slidesPerView: 3,
					spaceBetween: 24,
					loop: true,
				},
			},
			navigation: {
				nextEl: ".services-list__next",
				prevEl: ".services-list__prev",
			},
		});
	};

	if (document.querySelector('.js-types-work-list')) {
		const servicesList = new Swiper('.js-types-work-list', {
			spaceBetween: 16,
			slidesPerView: 1.3,
			lazy: true,
			loop: true,
			breakpoints: {
				600: {
					slidesPerView: 2,
					spaceBetween: 16,
					loop: true,
				},
				768: {
					slidesPerView: 2.3,
					spaceBetween: 16,
					loop: true,
				},
				992: {
					slidesPerView: 4,
					spaceBetween: 24,
					loop: true,
				},
			},
			navigation: {
				nextEl: ".types-work__next",
				prevEl: ".types-work__prev",
			},
		});
	};

	if (document.querySelector('.js-features-list')) {
		const featuresList = new Swiper('.js-features-list', {
			spaceBetween: 16,
			slidesPerView: 1.3,
			lazy: true,
			loop: true,
			autoHeight: false,
			breakpoints: {
				600: {
					slidesPerView: 2,
					spaceBetween: 16,
					loop: true,
				},
				768: {
					slidesPerView: 2.3,
					spaceBetween: 16,
					loop: true,
				},
				992: {
					slidesPerView: 3,
					spaceBetween: 24,
					loop: true,
				},
			},
			navigation: {
				nextEl: ".features-list__next",
				prevEl: ".features-list__prev",
			},
		});
	};

	if (document.querySelector('.js-examples-works-list')) {
		const servicesList = new Swiper('.js-examples-works-list', {
			spaceBetween: 16,
			slidesPerView: 1.3,
			lazy: true,
			loop: true,
			breakpoints: {
				600: {
					slidesPerView: 2,
					spaceBetween: 16,
					loop: true,
				},
				768: {
					slidesPerView: 2,
					spaceBetween: 16,
					loop: true,
				},
				992: {
					slidesPerView: 2,
					spaceBetween: 24,
					loop: true,
				},
			},
			navigation: {
				nextEl: ".examples-works-list__next",
				prevEl: ".examples-works-list__prev",
			},
		});
	};

	if (document.querySelector('.js-bubbles-list')) {
		let bubblesList;
		const sliderInit = () => {
			bubblesList = new Swiper('.js-bubbles-list', {
				spaceBetween: 16,
				// slidesPerView: 1,
				slidesPerView: "auto",
				loop: true,
				enabled: true,


				navigation: {
					nextEl: ".bubbles-list__next",
					prevEl: ".bubbles-list__prev",
				},
			});
		};

		if (document.documentElement.clientWidth <= 768) {
			sliderInit();
		} else {
			if (bubblesList) {
				bubblesList.destroy();
			};
		};
	};



	if (document.querySelector('.jsBrandsList')) {
		const brandsList = new Swiper('.jsBrandsList', {
			// slidesPerView: 5,
			loop: true,
			spaceBetween: 20,
			autoplay: {
				delay: 2500,
			},
			navigation: {
				nextEl: '.brands__button-next',
				prevEl: '.brands__button-prev',
			},

			breakpoints: {
				319: {
					slidesPerView: 2,
				},

				767: {
					slidesPerView: 3,
				},

				991: {
					slidesPerView: 4,
				},
				1199: {
					slidesPerView: 5,
				},
			},
		});
	};
};

// window.addEventListener("resize", initSwiper);
window.addEventListener("resize", function () {
	// setTimeout(initSwiper, 200);
	initSwiper();
});

initSwiper();

// Переключаем класс активности на стрелках сладера .slider-btn
function sliderBtnActiveClassToggle(className) {
	if (document.querySelector(className)) {
		let sliderBtn = document.querySelectorAll(className);
		sliderBtn.forEach(function(element) {
			element.addEventListener('click', function(e) {
				// У соседей удаляем класс активности
				const adjacentNtns = this.parentNode.querySelectorAll(className);
				adjacentNtns.forEach(function(element) {
					element.classList.remove('active');
				});
				this.classList.add('active');
			});
		});
	};
};

sliderBtnActiveClassToggle('.slider-btn');// -include './myscripts/blazy-init.js'
	}
);
